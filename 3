from sklearn.datasets import load_breast_cancer
from sklearn.model_selection import cross_val_score
from sklearn.ensemble import StackingClassifier
from sklearn.linear_model import LogisticRegression
from sklearn.tree import DecisionTreeClassifier
from sklearn.svm import SVC

X, y = load_breast_cancer(return_X_y=True)

# ----- SVM alone -----
svm = SVC()
svm_mean = cross_val_score(svm, X, y, cv=5).mean()

# ----- Stacking -----
models = [
    ('dt', DecisionTreeClassifier()),
    ('svm', SVC(probability=True))
]

stack = StackingClassifier(
    estimators=models,
    final_estimator=LogisticRegression()
)

stack_mean = cross_val_score(stack, X, y, cv=5).mean()

print("SVM Mean Accuracy:", svm_mean)
print("Stacking Mean Accuracy:", stack_mean)
